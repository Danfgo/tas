<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>UAT UK – My Test Results</title>
<style>
    :root {
        --uat-blue: #0b5ed7;
        --uat-blue-light: #e7f1ff;
        --uat-accent: #18a2b8;
        --uat-bg: #f4f6f9;
        --uat-border: #dcdcdc;
    }

    body {
        margin: 0;
        font-family: Arial, Helvetica, sans-serif;
        background-color: var(--uat-bg);
    }

    header {
        background: #ffffff;
        padding: 16px 24px;
        font-weight: bold;
        font-size: 18px;
        border-bottom: 1px solid var(--uat-border);
    }

    .container {
        display: flex;
    }

    .sidebar {
        width: 220px;
        background: #ffffff;
        padding: 20px;
        border-right: 1px solid var(--uat-border);
        min-height: calc(100vh - 60px);
    }

    .sidebar ul {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .sidebar li {
        margin-bottom: 14px;
        font-size: 14px;
        color: #333;
    }

    .sidebar li strong {
        color: var(--uat-blue);
    }

    .content {
        flex: 1;
        padding: 32px;
    }

    .card {
        background: #ffffff;
        border-radius: 6px;
        padding: 24px;
        box-shadow: 0 1px 3px rgba(0,0,0,0.08);
    }

    h1 { margin-top:0; font-size:26px; }

    .subtitle { color:#666; margin-bottom:24px; font-size:14px; }

    .section-title { font-weight:bold; margin-bottom:12px; }

    table { width:100%; border-collapse: collapse; }
    thead { background: var(--uat-blue); color: #fff; }
    th, td { padding:12px; font-size:14px; }
    tbody tr:nth-child(even) { background: #f2f2f2; }

    .score-pill {
        display: inline-block;
        background: var(--uat-accent);
        color:#fff;
        padding:6px 14px;
        border-radius:20px;
        font-weight:bold;
        font-size:13px;
    }

    .info-box {
        margin-top:24px;
        padding:16px;
        background: var(--uat-blue-light);
        border-radius:6px;
        font-size:14px;
        position:relative;
    }

    .conditional-message { margin-top:12px; font-weight:bold; }

    .runaway {
        display:inline-block;
        margin-top:16px;
        color: var(--uat-blue);
        font-weight:bold;
        cursor:pointer;
        position:relative;
        transition: transform 0.25s ease-out;
        user-select:none;
    }

    #rejectOverlay {
        position: fixed;
        top:0; left:0;
        width:100vw; height:100vh;
        background: rgba(255,255,255,0.95);
        display:flex;
        align-items:center;
        justify-content:center;
        font-size:5rem;
        font-weight:900;
        color: crimson;
        z-index:9999;
        flex-direction: column;
        user-select:none;
        opacity:0;
        pointer-events:none;
        transition: opacity 0.8s ease;
    }
    #rejectOverlay.visible {
        opacity:1;
        pointer-events: all;
    }
</style>
</head>
<body>

<header>UAT UK</header>

<div class="container">
    <aside class="sidebar">
        <ul>
            <li>Home</li>
            <li>Information</li>
            <li>Messages</li>
            <li>FAQs</li>
            <li>Tests</li>
            <li><strong>Results</strong></li>
            <li>Bursary</li>
            <li>Access Arrangements</li>
            <li>Pearson VUE Dashboard</li>
        </ul>
    </aside>

    <main class="content">
        <div class="card">
            <h1>My Test Results</h1>
            <div class="subtitle">
                View your test scores and module results below.
            </div>

            <div class="section-title">Engineering and Science Admissions Test (ESAT)</div>

            <table>
                <thead>
                    <tr><th>Module</th><th>Result</th></tr>
                </thead>
                <tbody>
                    <tr><td>Mathematics 1</td><td><span class="score-pill" data-score="7">7 / 27</span></td></tr>
                    <tr><td>Physics</td><td><span class="score-pill" data-score="4">4 / 27</span></td></tr>
                    <tr><td>Mathematics 2</td><td><span class="score-pill" data-score="12">12 / 27</span></td></tr>
                </tbody>
            </table>

            <div class="info-box">
                These scores are used by universities as part of a holistic admissions process.
                Performance across relevant modules may strengthen an application when considered
                alongside academic history, personal statements, and interviews.

                <div id="conditionalMessage" class="conditional-message"></div>

                <a id="runawayLink" class="runaway" href="#" target="_blank">
                    Click to see university ESAT requirements (e.g Imperial)
                </a>
            </div>
        </div>
    </main>
</div>

<div id="rejectOverlay">Imperial Reject</div>

<script>
    // Conditional message
    const scores = [...document.querySelectorAll('.score-pill')].map(el => Number(el.dataset.score));
    const average = scores.reduce((a,b)=>a+b,0)/scores.length;
    const messageEl = document.getElementById('conditionalMessage');

    if(average >= 15){
        messageEl.textContent = 'Overall assessment: Highly competitive score profile for top-tier universities.';
        messageEl.style.color = 'green';
    } else if(average >=11){
        messageEl.textContent = 'Overall assessment: Borderline – results may be considered alongside other strengths.';
        messageEl.style.color = '#b8860b';
    } else {
        messageEl.textContent = 'Overall assessment: Unlikely on scores alone, but other application components still matter.';
        messageEl.style.color = 'crimson';
    }

    // Runaway link logic
    const link = document.getElementById('runawayLink');
    let offsetX=0, offsetY=0, runawayEnabled=true;
    const dangerRadius=160;
    const rejectOverlay=document.getElementById('rejectOverlay');
    const confettiColors=['#0b5ed7','#18a2b8','#ff4d4d','#ffa500','#32cd32','#1e73d8'];

    function createConfettiPiece(){
        const confetti=document.createElement('div');
        confetti.style.position='fixed';
        confetti.style.width='8px';
        confetti.style.height='12px';
        confetti.style.backgroundColor=confettiColors[Math.floor(Math.random()*confettiColors.length)];
        confetti.style.zIndex=10000;
        confetti.style.pointerEvents='none';
        confetti.style.borderRadius='2px';
        confetti.style.left=Math.random()*window.innerWidth+'px';
        confetti.style.top='-20px';

        const xMove=(Math.random()-0.5)*400;
        const yMove=window.innerHeight + 50;
        const rotate=Math.random()*720;
        const duration=2000+Math.random()*2000;
        const startTime=performance.now();

        function animate(now){
            const elapsed=now-startTime;
            const progress=Math.min(elapsed/duration,1);
            confetti.style.transform=`translate(${xMove*progress}px, ${yMove*progress}px) rotate(${rotate*progress}deg)`;
            if(progress<1) requestAnimationFrame(animate);
            else confetti.remove();
        }
        requestAnimationFrame(animate);
        document.body.appendChild(confetti);
    }

    function launchConfetti(count=150){
        for(let i=0;i<count;i++){
            setTimeout(createConfettiPiece,i*5);
        }
    }

    document.addEventListener('mousemove', e=>{
        if(!runawayEnabled) return;
        const rect=link.getBoundingClientRect();
        const linkCenterX=rect.left + rect.width/2;
        const linkCenterY=rect.top + rect.height/2;
        const dx=linkCenterX - e.clientX;
        const dy=linkCenterY - e.clientY;
        const distance=Math.sqrt(dx*dx + dy*dy);
        if(distance<dangerRadius){
            const force=(dangerRadius-distance)/dangerRadius;
            offsetX += (dx/distance)*force*40;
            offsetY += (dy/distance)*force*40;
            offsetX=Math.max(-250,Math.min(250,offsetX));
            offsetY=Math.max(-120,Math.min(120,offsetY));
            link.style.transform=`translate(${offsetX}px,${offsetY}px)`;
        }
    });

    link.addEventListener('mousedown', ()=>{
        if(!runawayEnabled) return;
        offsetX += Math.random()*80-40;
        offsetY += Math.random()*40-20;
        link.style.transform=`translate(${offsetX}px,${offsetY}px)`;
    });

    // 5-second trap
    let timerStarted=false, timerId;
    link.addEventListener('mouseenter', ()=>{
        if(timerStarted) return;
        timerStarted=true;
        timerId=setTimeout(()=>{
            runawayEnabled=false;
            rejectOverlay.classList.add('visible');
            launchConfetti(150);
            link.style.transform='translate(0,0)';
            link.style.cursor='default';
        },3000); // 5 seconds
    });

    link.addEventListener('click', ()=>{ clearTimeout(timerId); });
</script>

</body>
</html>
